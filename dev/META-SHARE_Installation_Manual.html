

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>META-SHARE Installation Manual &mdash; META-SHARE 3.1-beta documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '3.1-beta',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="META-SHARE 3.1-beta documentation" href="index.html" />
    <link rel="next" title="META-SHARE Provider Manual" href="META-SHARE_Provider_Manual.html" />
    <link rel="prev" title="Welcome to META-SHARE’s documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="META-SHARE_Provider_Manual.html" title="META-SHARE Provider Manual"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to META-SHARE’s documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">META-SHARE 3.1-beta documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="meta-share-installation-manual">
<h1><a class="toc-backref" href="#id3">META-SHARE Installation Manual</a><a class="headerlink" href="#meta-share-installation-manual" title="Permalink to this headline">¶</a></h1>
<div class="figure align-center">
<img alt="METANET logo" src="_images/metanet_logo.png" />
<p class="caption"><em>A Network of Excellence forging the Multilingual Europe Technology Alliance</em></p>
</div>
<p>Authors: Christian Federmann, Marc Schröder,  Christian Spurk and Sergio Oller</p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#meta-share-installation-manual" id="id3">META-SHARE Installation Manual</a><ul>
<li><a class="reference internal" href="#executive-summary" id="id4">Executive Summary</a></li>
<li><a class="reference internal" href="#backing-up-meta-share" id="id5">Backing up META-SHARE</a></li>
<li><a class="reference internal" href="#upgrading-meta-share" id="id6">Upgrading META-SHARE</a></li>
<li><a class="reference internal" href="#installing-meta-share" id="id7">Installing META-SHARE</a><ul>
<li><a class="reference internal" href="#software-dependencies" id="id8">Software Dependencies</a><ul>
<li><a class="reference internal" href="#database-software" id="id9">Database Software</a></li>
<li><a class="reference internal" href="#python-interpreter" id="id10">Python interpreter</a></li>
<li><a class="reference internal" href="#python-modules" id="id11">Python Modules</a></li>
<li><a class="reference internal" href="#web-server" id="id12">Web Server</a></li>
</ul>
</li>
<li><a class="reference internal" href="#development-server" id="id13">Development Server</a></li>
<li><a class="reference internal" href="#local-settings-for-meta-share-nodes" id="id14">Local Settings for META-SHARE Nodes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deployment-server" id="id15">Deployment Server</a></li>
<li><a class="reference internal" href="#solr-server-for-browsing-and-searching" id="id16">Solr Server for Browsing and Searching</a><ul>
<li><a class="reference internal" href="#installing-solr" id="id17">Installing Solr</a></li>
<li><a class="reference internal" href="#keeping-the-solr-configuration-up-to-date" id="id18">Keeping the Solr Configuration Up-to-Date</a></li>
<li><a class="reference internal" href="#manually-updating-the-solr-configuration" id="id19">Manually Updating the Solr Configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#linking-your-node-with-the-meta-share-network" id="id20">Linking your Node with the META-SHARE Network</a><ul>
<li><a class="reference internal" href="#overview" id="id21">Overview</a></li>
<li><a class="reference internal" href="#step-by-step-instructions" id="id22">Step-by-Step Instructions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#importing-and-exporting-resources" id="id23">Importing and Exporting Resources</a><ul>
<li><a class="reference internal" href="#importing-xml-files-into-meta-share" id="id24">Importing XML Files into META-SHARE</a><ul>
<li><a class="reference internal" href="#importing-from-the-command-line" id="id25">Importing from the Command Line</a></li>
<li><a class="reference internal" href="#importing-from-the-editor" id="id26">Importing from the Editor</a></li>
</ul>
</li>
<li><a class="reference internal" href="#exporting-xml-files-from-meta-share" id="id27">Exporting XML Files from META-SHARE</a><ul>
<li><a class="reference internal" href="#exporting-from-the-command-line" id="id28">Exporting from the Command Line</a></li>
<li><a class="reference internal" href="#exporting-from-the-editor" id="id29">Exporting from the Editor</a></li>
</ul>
</li>
<li><a class="reference internal" href="#copying-data-between-meta-share-nodes" id="id30">Copying Data between META-SHARE Nodes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#setting-up-editor-user-accounts" id="id31">Setting up Editor User Accounts</a></li>
<li><a class="reference internal" href="#search-engine-optimization-and-web-analytics" id="id32">Search Engine Optimization and Web Analytics</a></li>
<li><a class="reference internal" href="#frequently-asked-questions" id="id33">Frequently Asked Questions</a><ul>
<li><a class="reference internal" href="#i-want-to-use-mysql-and-or-apache" id="id34">I Want to use MySQL and/or Apache</a></li>
<li><a class="reference internal" href="#i-need-help-configuring-lighttpd" id="id35">I Need Help Configuring lighttpd</a></li>
<li><a class="reference internal" href="#i-am-getting-storage-errors-when-importing-or-saving" id="id36">I am Getting Storage Errors when Importing or Saving</a></li>
<li><a class="reference internal" href="#why-can-django-not-serve-the-static-files" id="id37">Why Can Django not Serve the Static Files?</a></li>
<li><a class="reference internal" href="#postgresql-error-message" id="id38">PostgreSQL Error Message</a></li>
<li><a class="reference internal" href="#problems-with-importing-xml-files" id="id39">Problems with Importing XML Files</a></li>
<li><a class="reference internal" href="#updating-the-geoip-database-for-statistics-collection" id="id40">Updating the GeoIP Database for Statistics Collection</a></li>
</ul>
</li>
<li><a class="reference internal" href="#funding" id="id41">Funding</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="executive-summary">
<h2><a class="toc-backref" href="#id4">Executive Summary</a><a class="headerlink" href="#executive-summary" title="Permalink to this headline">¶</a></h2>
<p>This document is a guide for installing META-SHARE V3.1. It is intended
for system administrators setting up META-SHARE nodes. It also contains
a section on how to upgrade an existing META-SHARE V3.0.x installation
to V3.1.</p>
</div>
<div class="section" id="backing-up-meta-share">
<h2><a class="toc-backref" href="#id5">Backing up META-SHARE</a><a class="headerlink" href="#backing-up-meta-share" title="Permalink to this headline">¶</a></h2>
<p>META-SHARE stores the information in two places: a database and a storage
directory. Please follow these instructions to back up both things
before any upgrade, to revert to the previous version in case of problems.</p>
<p>Before backing up, stop the server to prevent database modifications during
the backup process. The server can be stopped using the <tt class="docutils literal"><span class="pre">stop-server.sh</span></tt>
script.</p>
<p>The storage directory is defined in the <tt class="docutils literal"><span class="pre">STORAGE_PATH</span></tt> variable
in the <tt class="docutils literal"><span class="pre">metashare/local_settings.py</span></tt> file of your current META-SHARE
installation. Create a backup of that directory.</p>
<p>If you are using a PostgreSQL database, you can use the <tt class="docutils literal"><span class="pre">pg_dump</span></tt> command
to create a dump of the META-SHARE database. The database name, host
and port are stored in the <tt class="docutils literal"><span class="pre">DATABASES</span></tt> variable in
<tt class="docutils literal"><span class="pre">metashare/local_settings.py</span></tt>.</p>
<blockquote>
<div><div class="highlight-python"><pre>pg_dump metashare_db_name &gt; metashare_database_backup.sql</pre>
</div>
</div></blockquote>
<p>Make sure the database dump you have created has contents (is not empty)
and no error appears. Check the <a class="reference external" href="http://www.postgresql.org/docs/9.1/static/backup-dump.html">PostgreSQL Documentation: SQL Dump</a> for
further details if needed.</p>
<p>If instead of PostgreSQL you are using the SQLite database,
you can just copy the SQLite file pointed in the <tt class="docutils literal"><span class="pre">DATABASES</span></tt> variable.
Be aware that the SQLite database is not recommended on production servers.</p>
</div>
<div class="section" id="upgrading-meta-share">
<h2><a class="toc-backref" href="#id6">Upgrading META-SHARE</a><a class="headerlink" href="#upgrading-meta-share" title="Permalink to this headline">¶</a></h2>
<p>If you have an installation of META-SHARE previous to V3.0 and you would
like to migrate your resource descriptions, uploaded resource data, user
accounts and statistics to a new META-SHARE installation, then you should
first upgrade to V3.0.x using the Installation Manual that comes with
a V3.0.x release. When you have such an installation working (at least as
a development server), you can follow the migration instructions to the
most recent version in the remainder of this chapter.</p>
<p>Before diving into the actual migration, it should be noted that two
META-SHARE installations on the same machine can interfere with each
other if not configured properly. So in case you would like to upgrade
an installation on a single machine, we recommend to shut down the old
installation (including the Solr server) first unless you know what you
are doing.</p>
<p>Here are now the steps you should follow for a successful migration:</p>
<ol class="arabic">
<li><p class="first">Make sure your META-SHARE-3.0.x instance is stopped.</p>
</li>
<li><p class="first">If you have not done it already, go through <a class="reference internal" href="#backing-up-meta-share">Backing up META-SHARE</a>.</p>
</li>
<li><p class="first">Follow the <a class="reference internal" href="#installing-meta-share">Installing META-SHARE</a> section on a new directory.</p>
<p><strong>Note:</strong> during the installation you can skip the creation of a
database and a role for PostgreSQL, as you already have one in your
current installation.</p>
</li>
<li><p class="first">Make sure your META-SHARE instances are stopped (no development server running).</p>
</li>
<li><p class="first">Copy <tt class="docutils literal"><span class="pre">/path/to/old/MetaShareNode-3.0/metashare/local_settings.py</span></tt>
to <tt class="docutils literal"><span class="pre">/path/to/MetaShareNode-3.1/metashare/local_settings.py</span></tt></p>
</li>
<li><p class="first">Edit the <tt class="docutils literal"><span class="pre">local_settings.py</span></tt>. Add a <tt class="docutils literal"><span class="pre">SECRET_KEY</span></tt> variable and a
<tt class="docutils literal"><span class="pre">ALLOWED_HOSTS</span></tt> variable.
See <a class="reference internal" href="#local-settings-for-meta-share-nodes">Local Settings for META-SHARE Nodes</a> for information on how to generate it.</p>
</li>
<li><p class="first">Adapt any customization you had on the old <tt class="docutils literal"><span class="pre">start-server.sh</span></tt>,
<tt class="docutils literal"><span class="pre">stop-server.sh</span></tt> scripts into the new script version.</p>
</li>
<li><p class="first">Start your new META-SHARE instance using the <tt class="docutils literal"><span class="pre">start-server.sh</span></tt> script.</p>
</li>
</ol>
</div>
<div class="section" id="installing-meta-share">
<h2><a class="toc-backref" href="#id7">Installing META-SHARE</a><a class="headerlink" href="#installing-meta-share" title="Permalink to this headline">¶</a></h2>
<p>This section explains how to download and install META-SHARE V3.1 and
its dependencies.</p>
<p>Start by downloading META-SHARE from the
<a class="reference external" href="https://github.com/metashare/META-SHARE/downloads">download page</a>.</p>
<p>Extract the downloaded software into a designated META-SHARE
folder, e.g., <tt class="docutils literal"><span class="pre">/path/to/local/MetaShareNode/</span></tt>.</p>
<div class="section" id="software-dependencies">
<h3><a class="toc-backref" href="#id8">Software Dependencies</a><a class="headerlink" href="#software-dependencies" title="Permalink to this headline">¶</a></h3>
<div class="section" id="database-software">
<h4><a class="toc-backref" href="#id9">Database Software</a><a class="headerlink" href="#database-software" title="Permalink to this headline">¶</a></h4>
<p><em>Note:</em> if you just want to run META-SHARE in <strong>development mode</strong>, or
if you are upgrading META-SHARE you can skip the database setup.</p>
<p>We currently use SQLite or PostgreSQL as our database software. SQLite
comes built-in with Python 2.7. Since SQLite has a number of
limitations, including missing transaction management and access
permission management, the preferred database is PostgreSQL. We have
tested <tt class="docutils literal"><span class="pre">PostgreSQL</span> <span class="pre">9.0.5</span></tt>.</p>
<p>On Debian, Ubuntu and derivatives:</p>
<p>Install PostgreSQL with:</p>
<blockquote>
<div><div class="highlight-python"><pre>sudo apt-get update
sudo apt-get install postgresql postgresql-contrib</pre>
</div>
</div></blockquote>
<p>Create a user named <tt class="docutils literal"><span class="pre">metashare_user</span></tt> (choose any name you like)
for META-SHARE:</p>
<blockquote>
<div><div class="highlight-python"><pre>sudo su – postgres
createuser -W metashare_user</pre>
</div>
</div></blockquote>
<p>Create a database <tt class="docutils literal"><span class="pre">metashare_db</span></tt> (or any other name), owned by the
just created user <tt class="docutils literal"><span class="pre">metashare_user</span></tt> (or the name you chose above):</p>
<blockquote>
<div><div class="highlight-python"><pre>sudo su – postgres
createdb --owner=metashare_user metashare_db</pre>
</div>
</div></blockquote>
</div>
<div class="section" id="python-interpreter">
<h4><a class="toc-backref" href="#id10">Python interpreter</a><a class="headerlink" href="#python-interpreter" title="Permalink to this headline">¶</a></h4>
<p><em>Note:</em> If you are upgrading from a previous META-SHARE installation
AND python-2.7 was installed during the previous installation in
<tt class="docutils literal"><span class="pre">/path/to/old/MetaShareNode3.0/</span></tt> please make sure to remove
from your <tt class="docutils literal"><span class="pre">PATH</span></tt> variable <tt class="docutils literal"><span class="pre">/path/to/old/MetaShareNode3.0/opt/bin</span></tt>.
No path modifications are required anymore.</p>
<p>META-SHARE V3.1 requires Python 2.7. Most Linux/Unix distributions come
already with a preinstalled version of Python. You may check the installed
python version with <tt class="docutils literal"><span class="pre">python2</span> <span class="pre">--version</span></tt>.</p>
<p>In case the output is something like &#8220;2.7.x&#8221;, nothing else needs to be done.</p>
<p>If you have a previous python version, python 2.7 will be installed
to <tt class="docutils literal"><span class="pre">/path/to/MetaNode/opt</span></tt> during the META-SHARE installation. To do so,
you will need to install some dependencies, such as <tt class="docutils literal"><span class="pre">libsqlite3-dev</span></tt>,
<tt class="docutils literal"><span class="pre">libssl-dev</span></tt> and <tt class="docutils literal"><span class="pre">zlib1g-dev</span></tt>. Please note that these packages may
have different names depending on your Linux/Unix distribution.</p>
<p>On an older Ubuntu without Python 2.7 you might also use the following
command to get all required build dependencies:</p>
<blockquote>
<div><div class="highlight-python"><pre>apt-get build-dep python2.6</pre>
</div>
</div></blockquote>
</div>
<div class="section" id="python-modules">
<h4><a class="toc-backref" href="#id11">Python Modules</a><a class="headerlink" href="#python-modules" title="Permalink to this headline">¶</a></h4>
<p>META-SHARE V3.1 does not bundle anymore all the python dependencies.
Instead of doing that, we follow the standard way of working with
python apps, based on <a class="reference external" href="https://virtualenv.pypa.io">virtualenv</a> and
<a class="reference external" href="https://pip.pypa.io">pip</a>. Virtualenv allows us to create
isolated python environments, preventing conflicts between coexisting
python applications with different dependencies. Pip is
the recommended tool to install python packages.</p>
<p>The <tt class="docutils literal"><span class="pre">psycopg2</span></tt> python module is used for connecting PostgreSQL to META-SHARE.
In order to build this module, header files for the PostgreSQL library
<tt class="docutils literal"><span class="pre">libpq5</span></tt> have to be installed, as well as the python headers. On Debian,
Ubuntu and derivatives, this can be achieved installing the <tt class="docutils literal"><span class="pre">libpq-dev</span></tt> and
<tt class="docutils literal"><span class="pre">python-dev</span></tt> packages using <tt class="docutils literal"><span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">libpq-dev</span> <span class="pre">python-dev</span></tt>.</p>
<p>Once this header files are installed, the rest of the dependencies can be
installed simply by:</p>
<blockquote>
<div><div class="highlight-python"><pre>cd "/path/to/local/MetaShareNode/"
./install-dependencies.sh</pre>
</div>
</div></blockquote>
<p>This script will:</p>
<ol class="arabic simple">
<li>Check that Python 2.7 is installed, or download and install it to
<tt class="docutils literal"><span class="pre">/path/to/local/MetaShareNode/opt/bin</span></tt>.</li>
<li>Download virtualenv</li>
<li>Create a virtual environment at <tt class="docutils literal"><span class="pre">/path/to/local/MetaShareNode/venv</span></tt>.</li>
<li>Download, build and install all META-SHARE dependencies using pip in the
created virtual environment.</li>
</ol>
<p>If everything is installed successfully the message <tt class="docutils literal"><span class="pre">Installation</span> <span class="pre">of</span>
<span class="pre">META-SHARE</span> <span class="pre">dependencies</span> <span class="pre">complete.</span></tt> should appear in the end.</p>
<p>For your information, the dependencies and their respective versions are
listed in the <cite>requirements.txt</cite> file.</p>
</div>
<div class="section" id="web-server">
<h4><a class="toc-backref" href="#id12">Web Server</a><a class="headerlink" href="#web-server" title="Permalink to this headline">¶</a></h4>
<p><em>Note:</em> if you just want to run META-SHARE in <strong>development mode</strong>, you
can skip the web server setup.</p>
<p>META-SHARE is a web application that builds on a web server. Deployment
has been tested with <tt class="docutils literal"><span class="pre">lighttpd</span> <span class="pre">1.4.33</span></tt> via FastCGI. Other web servers
can be used, but you do so on your own risk.</p>
<p>We strongly recommend to set up your web server so that it only serves
SSL encrypted connections. We are shipping a sample configuration for
<tt class="docutils literal"><span class="pre">lighttpd</span></tt> under <tt class="docutils literal"><span class="pre">metashare/lighttpd-ssl.conf.sample</span></tt> which should
give you an idea on how to set this up.</p>
</div>
</div>
<div class="section" id="development-server">
<h3><a class="toc-backref" href="#id13">Development Server</a><a class="headerlink" href="#development-server" title="Permalink to this headline">¶</a></h3>
<p>To verify that you have installed all dependencies correctly, you should
first set up a development server. Proceed as follows.</p>
<ol class="arabic">
<li><p class="first">Create <tt class="docutils literal"><span class="pre">local_settings.py</span></tt> for your local META-SHARE node:</p>
<div class="highlight-python"><pre>cp metashare/local_settings.sample metashare/local_settings.py</pre>
</div>
<p>Edit at least the following constants: <tt class="docutils literal"><span class="pre">DJANGO_URL</span></tt>, <tt class="docutils literal"><span class="pre">DJANGO_BASE</span></tt>,
<tt class="docutils literal"><span class="pre">STORAGE_PATH</span></tt>, <tt class="docutils literal"><span class="pre">DEBUG</span></tt>, <tt class="docutils literal"><span class="pre">SECRET_KEY</span></tt>, <tt class="docutils literal"><span class="pre">ADMINS</span></tt>, <tt class="docutils literal"><span class="pre">DATABASES</span></tt>, and <tt class="docutils literal"><span class="pre">EMAIL_BACKEND</span></tt>. More
information is available in <a class="reference internal" href="#local-settings-for-meta-share-nodes">Local Settings for META-SHARE
Nodes</a></p>
<p><strong>Note:</strong> If you are upgrading from a previous META-SHARE version,
make sure to NOT use your production <tt class="docutils literal"><span class="pre">STORAGE_PATH</span></tt> or your production
database in <tt class="docutils literal"><span class="pre">local_settings.py</span></tt> for testing the installation.</p>
</li>
<li><p class="first">Initialize database contents:</p>
<div class="highlight-python"><pre>source venv/bin/activate # enables META-SHARE virtual environment
python manage.py syncdb
deactivate  # disables META-SHARE virtual environment</pre>
</div>
</li>
</ol>
<p>Answer “yes” when asked to create a superuser account and fill in the
requested details.</p>
<ol class="arabic" start="3">
<li><p class="first">Start an Apache Solr server for the search index (uses Java and
Python internally):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">metashare</span><span class="o">/</span><span class="n">start</span><span class="o">-</span><span class="n">solr</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</li>
<li><p class="first">Run tests to check that Django can load and serve META-SHARE:</p>
<div class="highlight-python"><pre>source venv/bin/activate
python manage.py test repository storage accounts sync stats
deactivate</pre>
</div>
<p>This should return “OK”.</p>
<p><em>Note:</em> This step may take a few minutes.</p>
</li>
<li><p class="first">Run a Django development server:</p>
<div class="highlight-python"><pre>source venv/bin/activate
python manage.py runserver
  Validating models...
  0 errors found
  Django version 1.4.x, using settings 'metashare.settings'
  Development server is running at http://127.0.0.1:8000/
  Quit the server with CONTROL-C.
deactivate</pre>
</div>
</li>
</ol>
<p>Congratulations: you have successfully started a META-SHARE V3.1 node in
development mode. This means that all required Python and Django
dependencies are functioning correctly.</p>
</div>
<div class="section" id="local-settings-for-meta-share-nodes">
<h3><a class="toc-backref" href="#id14">Local Settings for META-SHARE Nodes</a><a class="headerlink" href="#local-settings-for-meta-share-nodes" title="Permalink to this headline">¶</a></h3>
<p><strong>Note:</strong> If you are upgrading a META-SHARE installation, you can now
follow the rest of the <a class="reference internal" href="#upgrading-meta-share">Upgrading META-SHARE</a> instructions as the
<tt class="docutils literal"><span class="pre">local_settings.py</span></tt> file will be copied from the previous META-SHARE
installation.</p>
<p>Django projects usually store all their configuration settings in a file
named settings.py. For META-SHARE, we have split up the set of
configuration parameters into two groups: local and global settings. You
should never have to change the <em>global</em> settings in <tt class="docutils literal"><span class="pre">settings.py</span></tt> as
they are neither security-critical nor node-dependant. You can and
partially have to change local configuration settings, though, which are
stored in their own file named <tt class="docutils literal"><span class="pre">local_settings.py</span></tt>.</p>
<p>The META-SHARE software package only contains a file named
<tt class="docutils literal"><span class="pre">local_settings.sample</span></tt> that lists and explains all local settings
available for META-SHARE nodes. You have to create a node-local copy of
this sample file with the name <tt class="docutils literal"><span class="pre">local_settings.py</span></tt> and adapt some
configuration settings.</p>
<p>The local settings are the following:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">DJANGO_URL</span> <span class="pre">=</span> <span class="pre">'http://www.example.com/path/to/metashare'</span></tt></p>
<p>The URL for this META-SHARE node as it is reachable from the
internet; it is important to emphasize that this must not be any
internal URL which is only reachable behind some proxy server! Do not
use a trailing slash (/)!You can use <tt class="docutils literal"><span class="pre">http://127.0.0.1:8000</span></tt> when
running a development mode server.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">DJANGO_BASE</span> <span class="pre">=</span> <span class="pre">'path/to/metashare/'</span></tt></p>
<p>The base path under which Django is deployed at <tt class="docutils literal"><span class="pre">DJANGO_URL</span></tt>. Use a
trailing slash(/). Do not use a leading slash, though. Leave empty if
META-SHARE is deployed directly under the given <tt class="docutils literal"><span class="pre">DJANGO_URL</span></tt>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">FORCE_SCRIPT_NAME</span> <span class="pre">=</span> <span class="pre">&quot;&quot;</span></tt></p>
<p>This is required when the META-SHARE node is deployed using FastCGI
and for example lighttpd. There is a known bug with FCGI hosted
applications and lighttpd; it basically messes up the URL after HTTP
submits. <tt class="docutils literal"><span class="pre">FORCE_SCRIPT_NAME=</span> <span class="pre">&quot;&quot;</span></tt> fixes the issue and hence is
required for lighttpd use.</p>
</li>
<li><p class="first"><a href="#id1"><span class="problematic" id="id2">``</span></a>ALLOWED_HOSTS = [ &#8216;www.example.com&#8217; ]</p>
<p>A list of strings representing the host/domain names this META-SHARE
instance can be served at.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">STORAGE_PATH</span> <span class="pre">=</span> <span class="pre">'/path/to/storage/path'</span></tt></p>
<p>Absolute path to the local storage base, i.e., the folder in which
your language resource data is stored. You need to supply an existing
path here, even for development mode! This folder will contain data
related to your language resources, so choose a suitable location
that is accessible, safe and that has sufficient free space for all
resource data that you would like to upload.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">DEBUG</span></tt>, <tt class="docutils literal"><span class="pre">TEMPLATE_DEBUG</span></tt>, <tt class="docutils literal"><span class="pre">DEBUG_JS</span></tt></p>
<p>Debug settings: setting <tt class="docutils literal"><span class="pre">DEBUG=True</span></tt> will give exception
stacktraces on the website, for example. This may include sensitive
information, so use with care, preferably only for local development
servers.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">SECRET_KEY</span></tt></p>
<p>Set this variable to a random value. This is used by django to salt the
passwords stored in the database and generate tokens.
See <a class="reference external" href="https://docs.djangoproject.com/en/dev/ref/settings/#secret-key">SECRET_KEY django documentation</a>
for further information.
The following python code can help you to generate a random string:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="c"># From: https://gist.github.com/mattseymour/9205591</span>
<span class="kn">import</span> <span class="nn">string</span><span class="o">,</span> <span class="nn">random</span>
<span class="n">chars</span> <span class="o">=</span> <span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_letters</span><span class="p">,</span> <span class="n">string</span><span class="o">.</span><span class="n">digits</span><span class="p">,</span> <span class="n">string</span><span class="o">.</span><span class="n">punctuation</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\&#39;</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&quot;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">random</span><span class="o">.</span><span class="n">SystemRandom</span><span class="p">()</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">chars</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">)])</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">ADMINS</span></tt></p>
<p>Configure the administrators for this Django project. If
<tt class="docutils literal"><span class="pre">DEBUG=False</span></tt>, all errors will be reported as e-mails to these
persons. If you do not set any administrators here, you will</p>
<ol class="loweralpha simple">
<li>not get any notifications of problems with the META-SHARE site;
and (b) not be able to get useful feedback from the META-SHARE
technical helpdesk if you should run into internal server errors
500).</li>
</ol>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">DATABASES</span></tt></p>
<p>Configures the database settings for Django. For SQLite, use the
following settings:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span>
     <span class="s">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
         <span class="s">&#39;ENGINE&#39;</span><span class="p">:</span> <span class="s">&#39;django.db.backends.sqlite3&#39;</span><span class="p">,</span>
        <span class="s">&#39;NAME&#39;</span><span class="p">:</span> <span class="s">&#39;{0}/testing.db&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ROOT_PATH</span><span class="p">)</span>
     <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>For PostgreSQL, the following settings are required:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span>
     <span class="s">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
         <span class="s">&#39;ENGINE&#39;</span><span class="p">:</span> <span class="s">&#39;django.db.backends.postgresql_psycopg2&#39;</span><span class="p">,</span>
         <span class="s">&#39;NAME&#39;</span><span class="p">:</span> <span class="s">&#39;metashare&#39;</span><span class="p">,</span>
         <span class="s">&#39;USER&#39;</span><span class="p">:</span> <span class="s">&#39;db_user&#39;</span><span class="p">,</span>
         <span class="s">&#39;PASSWORD&#39;</span><span class="p">:</span> <span class="s">&#39;db_password&#39;</span><span class="p">,</span>
         <span class="s">&#39;HOST&#39;</span><span class="p">:</span> <span class="s">&#39;localhost&#39;</span><span class="p">,</span>
         <span class="c"># Set to empty string for default.</span>
         <span class="s">&#39;PORT&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
         <span class="c"># This is required to make import more robust.</span>
         <span class="s">&#39;OPTIONS&#39;</span><span class="p">:</span> <span class="p">{</span>
           <span class="s">&#39;autocommit&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
         <span class="p">}</span>
     <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">EMAIL_BACKEND</span> <span class="pre">=</span> <span class="pre">'django.core.mail.backends.smtp.EmailBackend'</span></tt></p>
<p>Settings for sending mail. Production servers should use the SMTP
e-mail backend as indicated in the <tt class="docutils literal"><span class="pre">local_settings.sample</span></tt> file.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">TIME_ZONE</span> <span class="pre">=</span> <span class="pre">'Europe/Berlin'</span></tt></p>
<p>Local time zone for this installation.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">SYNC_USERS</span> <span class="pre">=</span> <span class="pre">{'sync-user-1':</span> <span class="pre">'some_password',</span> <span class="pre">}</span></tt></p>
<p>Credentials (user name and password) for one or more user accounts
with the permission to access synchronization information on the
configured META-SHARE Node. If you are no META-SHARE Managing Node,
then you will only need at most sync user account here. Such an
account is required for linking your node to the META-SHARE Network –
see <a class="reference internal" href="#linking-your-node-with-the-meta-share-network">Linking your Node with the META-SHARE Network</a>. Essentially a
sync user account is a normal user account and therefore it also
lives in the same namespace. Thus, a sync user account must have a
different name from any existing user accounts! You always have to
run <tt class="docutils literal"><span class="pre">manage.py</span> <span class="pre">syncdb</span></tt>, whenever you change the <tt class="docutils literal"><span class="pre">SYNC_USERS</span></tt>
setting.</p>
</li>
</ul>
<p>See also <a class="reference internal" href="#search-engine-optimization-and-web-analytics">Search Engine Optimization and Web Analytics</a> for further
settings that can be used in the context of web analytics.</p>
<p><em>Note:</em> settings changes will only take effect when the Django server is
restarted!</p>
</div>
</div>
<div class="section" id="deployment-server">
<h2><a class="toc-backref" href="#id15">Deployment Server</a><a class="headerlink" href="#deployment-server" title="Permalink to this headline">¶</a></h2>
<p>For deployment, we assume that you have downloaded and installed the
lighttpd web server (see also <a class="reference internal" href="#i-want-to-use-mysql-and-or-apache">I Want to use MySQL and/or Apache</a>) and a
<tt class="docutils literal"><span class="pre">PostgreSQL</span> <span class="pre">database</span></tt>. You have to adapt <tt class="docutils literal"><span class="pre">start_server.sh</span></tt> and
<tt class="docutils literal"><span class="pre">stop_server.sh</span></tt> with correct IP addresses and port numbers. The IP
addresses should be identical to the one you added to your
<tt class="docutils literal"><span class="pre">lighttpd.conf</span></tt>, the port number, of course, needs to be different
from the web server’s.</p>
<p>You can test your PostgreSQL database by calling <tt class="docutils literal"><span class="pre">manage.py</span> <span class="pre">syncdb</span></tt>;
this will complain if it cannot properly access the database.</p>
<p>Once both the web server and the database are ready, use
<tt class="docutils literal"><span class="pre">start_server.sh</span></tt> to start the threaded production server via FastCGI;
don’t forget to set <tt class="docutils literal"><span class="pre">DEBUG=False</span></tt>! <tt class="docutils literal"><span class="pre">stop_server.sh</span></tt> of course stops
the FastCGI server and the corresponding lighttpd process.</p>
<p><em>Note:</em> the <tt class="docutils literal"><span class="pre">start_server.sh</span></tt> script automatically installs some
cronjobs which are required for the automatic synchronization of linked
nodes, for periodic database cleanups, etc. The <tt class="docutils literal"><span class="pre">stop_server.sh</span></tt>
script automatically uninstalls these cron jobs again.</p>
</div>
<div class="section" id="solr-server-for-browsing-and-searching">
<h2><a class="toc-backref" href="#id16">Solr Server for Browsing and Searching</a><a class="headerlink" href="#solr-server-for-browsing-and-searching" title="Permalink to this headline">¶</a></h2>
<p>The META-SHARE release comes with a pre-configured Solr server used to
index the META-SHARE database for browsing and searching.</p>
<p>To start the preconfigured Solr server, go to the <tt class="docutils literal"><span class="pre">metashare</span></tt> folder
and run:</p>
<div class="highlight-python"><pre>./start-solr.sh</pre>
</div>
<p>To stop a running Solr server, go to the metashare folder and run:</p>
<div class="highlight-python"><pre>./stop-solr.sh</pre>
</div>
<p>These commands must be run by hand for the development server; they are
included in the start-server.sh and stop-server.sh scripts used for the
deployment server.</p>
<p>This should be all you need for usual operation. The following
subsections are required only for people who want to understand in depth
how to operate and configure the Solr server.</p>
<div class="section" id="installing-solr">
<h3><a class="toc-backref" href="#id17">Installing Solr</a><a class="headerlink" href="#installing-solr" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Make sure you have Java 1.6 or later (run <tt class="docutils literal"><span class="pre">java</span> <span class="pre">-version</span></tt> to check!).</p>
</li>
<li><p class="first">Download the latest version of Solr from here.</p>
</li>
<li><p class="first">Unzip into a folder, henceforth called <tt class="docutils literal"><span class="pre">$SOLR_DIR</span></tt>.</p>
</li>
<li><p class="first">Go to <tt class="docutils literal"><span class="pre">misc/solr-config-sample</span></tt> in your local META-SHARE-Software
repository and run:</p>
<div class="highlight-python"><pre>./create_solr_config.sh "$SOLR_DIR"</pre>
</div>
<p>This will configure your Solr server with a sample configuration. It
will overwrite the default Solr configuration. After this step you
will have a Solrserver which is configured with two cores (→ indexes)
main and testing.</p>
</li>
<li><p class="first">Change directory to $SOLR_DIR/example.</p>
</li>
<li><p class="first">Run</p>
<div class="highlight-python"><pre>java -jar start.jar</pre>
</div>
</li>
<li><p class="first">Open a web browser and go to
<tt class="docutils literal"><span class="pre">http://localhost:8983/solr/main/admin/</span></tt>. You should be able to see
Solr’s admin interface for the main core.</p>
<p>For further help go to the Solr Tutorial page.</p>
</li>
</ol>
</div>
<div class="section" id="keeping-the-solr-configuration-up-to-date">
<h3><a class="toc-backref" href="#id18">Keeping the Solr Configuration Up-to-Date</a><a class="headerlink" href="#keeping-the-solr-configuration-up-to-date" title="Permalink to this headline">¶</a></h3>
<p>As development on the search functionality continues, you may have to
occasionally recreate your Solr configuration. Before doing that you
have to shut down your Solr server (<tt class="docutils literal"><span class="pre">Ctrl+C</span></tt>). Now you can either:</p>
<ul class="simple">
<li>Follow the steps in the previous section. This will erase all your
index data. After that, run <tt class="docutils literal"><span class="pre">python</span> <span class="pre">manage.py</span> <span class="pre">rebuild_index</span></tt> to
rebuild your index from the current database content.</li>
<li>Or you manually update the Solr configuration by going through the
following steps.</li>
</ul>
</div>
<div class="section" id="manually-updating-the-solr-configuration">
<h3><a class="toc-backref" href="#id19">Manually Updating the Solr Configuration</a><a class="headerlink" href="#manually-updating-the-solr-configuration" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Create Solr schema files automatically by running:</p>
<div class="highlight-python"><pre>source venv/bin/activate
python manage.py build_solr_schema
deactivate</pre>
</div>
<p>The XML output of this command should go into both
<tt class="docutils literal"><span class="pre">$SOLR_DIR/example/solr/main/conf/schema.xml</span></tt> and
<tt class="docutils literal"><span class="pre">$SOLR_DIR/example/solr/testing/conf/schema.xml</span></tt>.</p>
</li>
<li><p class="first">If there should be any changes in the files in
<tt class="docutils literal"><span class="pre">misc/solr-config-sample</span></tt>, then copy these files to both
<tt class="docutils literal"><span class="pre">$SOLR_DIR/example/solr/main/conf</span></tt> and
<tt class="docutils literal"><span class="pre">$SOLR_DIR/example/solr/testing/conf</span></tt>.</p>
</li>
<li><p class="first">Restart the Solr server.</p>
</li>
<li><p class="first">If you already have any data in your database, then manually build
the search index once. Run:</p>
<div class="highlight-python"><pre>source venv/bin/activate
python manage.py rebuild_index
deactivate</pre>
</div>
<p>Any future changes and additions to your database should
automatically be reflected in the search index. A manual rebuild
should not be required anymore (except when working on the indexing
itself).</p>
</li>
</ol>
</div>
</div>
<div class="section" id="linking-your-node-with-the-meta-share-network">
<h2><a class="toc-backref" href="#id20">Linking your Node with the META-SHARE Network</a><a class="headerlink" href="#linking-your-node-with-the-meta-share-network" title="Permalink to this headline">¶</a></h2>
<div class="section" id="overview">
<h3><a class="toc-backref" href="#id21">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<p>META-SHARE aims to provide an infrastructure that makes language
resources available in a network of many META-SHARE Nodes, the
META-SHARE Network. A number of nodes with certain technical and
organizational characteristics undertake the role of META-SHARE Managing
Nodes. Such nodes harvest and store metadata records from the META-SHARE
Nodes of the entire META-SHARE Network. META-SHARE Managing Nodes share
metadata, create, host and maintain a central inventory which includes
metadata-based descriptions of all language resources available in the
distributed network. Each META-SHARE Managing Node effectively hosts a
copy of the central inventory.</p>
<p>To actually link your META-SHARE Node installation with the META-SHARE
Network, your node has to be proxied by a META-SHARE Managing Node.
In <a class="reference internal" href="#step-by-step-instructions">Step-by-Step Instructions</a> are detailed the steps that are
required for this.</p>
</div>
<div class="section" id="step-by-step-instructions">
<h3><a class="toc-backref" href="#id22">Step-by-Step Instructions</a><a class="headerlink" href="#step-by-step-instructions" title="Permalink to this headline">¶</a></h3>
<p>These are the steps which are required for linking your META-SHARE node
with the META-SHARE Network:</p>
<ul>
<li><p class="first">In your <tt class="docutils literal"><span class="pre">local_settings.py</span></tt> file (see <a class="reference internal" href="#local-settings-for-meta-share-nodes">Local Settings for META-SHARE Nodes</a>), make sure to
have an entry in the <tt class="docutils literal"><span class="pre">SYNC_USERS</span></tt> dictionary. Remember to run the
following command, whenever you change the <tt class="docutils literal"><span class="pre">SYNC_USERS</span></tt> setting:</p>
<blockquote>
<div><div class="highlight-python"><pre>source venv/bin/activate
python ./manage.py syncdb
deactivate</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Give the account credentials of your <tt class="docutils literal"><span class="pre">SYNC_USERS</span></tt> entry and your
public node URL (e.g., <tt class="docutils literal"><span class="pre">http://you.example.org/metashare</span></tt>) to the
system administrator of the META-SHARE Managing Node which shall
proxy your META-SHARE node.</p>
</li>
<li><p class="first">Contact either the administrator at CNR, DFKI, ELDA, FBK or ILSP
(current META-SHARE Managing Node providers); never go to more
than one of these META-SHARE Managing Nodes. You can use the
contact form at <tt class="docutils literal"><span class="pre">&lt;MANAGING_NODE_URL&gt;/accounts/contact/</span></tt> – for
example, <a class="reference external" href="http://metashare.dfki.de/accounts/contact/">http://metashare.dfki.de/accounts/contact/</a>.</p>
</li>
<li><p class="first">The system administrator of the chosen META-SHARE Managing Node
will set up her node as a proxy for your resource descriptions.</p>
</li>
<li><p class="first">If all went as expected, then the chosen META-SHARE Managing Node
will automatically synchronize with your node and people will be able
to see (not edit!) your resource metadata on all META-SHARE Managing
Nodes of the META-SHARE Network.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="importing-and-exporting-resources">
<h2><a class="toc-backref" href="#id23">Importing and Exporting Resources</a><a class="headerlink" href="#importing-and-exporting-resources" title="Permalink to this headline">¶</a></h2>
<p>Metadata descriptions of language resources can be imported into the
META-SHARE software from XML files obeying the META-SHARE schema format.
Likewise, the metadata descriptions in the META-SHARE database can be
exported into XML files in the format defined by the META-SHARE XML
schema.</p>
<div class="section" id="importing-xml-files-into-meta-share">
<h3><a class="toc-backref" href="#id24">Importing XML Files into META-SHARE</a><a class="headerlink" href="#importing-xml-files-into-meta-share" title="Permalink to this headline">¶</a></h3>
<p>There are two possibilities of importing language resource XML
descriptions which are outlined in the following sections.</p>
<p>In general, all files to import should be schema-valid according to the
current META-SHARE XML schema file which is located in
<tt class="docutils literal"><span class="pre">misc/schema/v3.0/META-SHARE-Resource.xsd</span></tt>. Please use an XML schema
validator to verify that the import files are valid before trying to
import them into META-SHARE. For example, you can use <tt class="docutils literal"><span class="pre">xmllint</span></tt> like
so:</p>
<div class="highlight-python"><pre>xmllint --schema META-SHARE-Resource.xsd data.xml</pre>
</div>
<p>Schema validity is not strictly required by the importer; reasonable
efforts are made to import partial or erroneous XML files. However, in
order to avoid loosing data, please try to make your files schema valid.</p>
<div class="section" id="importing-from-the-command-line">
<h4><a class="toc-backref" href="#id25">Importing from the Command Line</a><a class="headerlink" href="#importing-from-the-command-line" title="Permalink to this headline">¶</a></h4>
<p>META-SHARE comes with a tool called <tt class="docutils literal"><span class="pre">import_xml.py</span></tt> to import XML
files describing language resources into the system. To import, run
<tt class="docutils literal"><span class="pre">import_xml.py</span></tt> as follows:</p>
<div class="highlight-python"><pre>source venv/bin/activate
cd metashare
python import_xml.py &lt;file.xml|archive.zip&gt; [&lt;file.xml|archive.zip&gt; …]
deactivate</pre>
</div>
<p>In other words, you can provide one or more individual XML files or zip
files containing XML files. The script will print a summary count of
successfully imported and erroneous files at the end.</p>
</div>
<div class="section" id="importing-from-the-editor">
<h4><a class="toc-backref" href="#id26">Importing from the Editor</a><a class="headerlink" href="#importing-from-the-editor" title="Permalink to this headline">¶</a></h4>
<p>An alternative way of importing resources is provided by the “Upload”
menu item of the editor. There you can also provide individual XML files
or zip files containing XML files. Compared to the shell importer, the
upload size is limited, though.</p>
</div>
</div>
<div class="section" id="exporting-xml-files-from-meta-share">
<h3><a class="toc-backref" href="#id27">Exporting XML Files from META-SHARE</a><a class="headerlink" href="#exporting-xml-files-from-meta-share" title="Permalink to this headline">¶</a></h3>
<p>META-SHARE aims to be an open platform and therefore allows for the
export of resources in the original XML format. As with the import,
there are two possible ways for exporting, both of which are described
in the following sections.</p>
<div class="section" id="exporting-from-the-command-line">
<h4><a class="toc-backref" href="#id28">Exporting from the Command Line</a><a class="headerlink" href="#exporting-from-the-command-line" title="Permalink to this headline">¶</a></h4>
<p>The script <tt class="docutils literal"><span class="pre">export_xml.py</span></tt> will export all entries from the database
into a zip archive containing one XML file per resource. The script
requires a valid META-SHARE V3.1 database. It can be run as follows:</p>
<div class="highlight-python"><pre>source venv/bin/activate
cd metashare
python export_xml.py &lt;archive.zip&gt;
deactivate</pre>
</div>
<p>The resulting archive is suitable for import in any META-SHARE V2.1 (or
later) installation.</p>
</div>
<div class="section" id="exporting-from-the-editor">
<h4><a class="toc-backref" href="#id29">Exporting from the Editor</a><a class="headerlink" href="#exporting-from-the-editor" title="Permalink to this headline">¶</a></h4>
<p>As an alternative to the shell exporter you may export resource
descriptions from the editor.</p>
<ul class="simple">
<li>A single resource XML description can be exported from the main
editor page of the resource using the “Export Resource Description to
XML” button at the top of the page.</li>
<li>A bundle of freely selectable resources may be exported as a zip
archive from the “Editable Resources” page using the “Action” menu.
The resulting archive is suitable for import in any META-SHARE V2.1
or later installation.</li>
</ul>
</div>
</div>
<div class="section" id="copying-data-between-meta-share-nodes">
<h3><a class="toc-backref" href="#id30">Copying Data between META-SHARE Nodes</a><a class="headerlink" href="#copying-data-between-meta-share-nodes" title="Permalink to this headline">¶</a></h3>
<p>Since V3.0, META-SHARE supports the automatic synchronization of
metadata between a configurable set of META-SHARE nodes. You should
usually not manually copy resource descriptions by exporting and
importing. An exception might be the case where you would like to create
a brand new resource description which is very similar to an existing
resource description.</p>
</div>
</div>
<div class="section" id="setting-up-editor-user-accounts">
<h2><a class="toc-backref" href="#id31">Setting up Editor User Accounts</a><a class="headerlink" href="#setting-up-editor-user-accounts" title="Permalink to this headline">¶</a></h2>
<p>For information on how to set up and manage user accounts, please see
the META-SHARE Provider Manual.</p>
</div>
<div class="section" id="search-engine-optimization-and-web-analytics">
<h2><a class="toc-backref" href="#id32">Search Engine Optimization and Web Analytics</a><a class="headerlink" href="#search-engine-optimization-and-web-analytics" title="Permalink to this headline">¶</a></h2>
<p>META-SHARE integrates the most common techniques for Search Engine
Optimization (SEO). In order to check whether SEO works as it should,
META-SHARE also integrates “django-analytical”, a package for easily
integrating analytics services like Google Analytics or Clicky. If you
would like to use an analytics service, then just add the corresponding
configuration to your <tt class="docutils literal"><span class="pre">local_settings.py</span></tt> file. Valid configuration
options for the supported analytics services can be found
<a class="reference external" href="http://packages.python.org/django-analytical/install.html#enabling-the-services">here</a>.</p>
<p><em>Note:</em> since META-SHARE V3.0.1 we ship with a common Google Analytics
tracking code for all META-SHARE websites. The tracking code is
activated by default in <tt class="docutils literal"><span class="pre">metashare/templates/base.html</span></tt>. If you
wouldn’t like your META-SHARE installation to be tracked, you can remove
the Google Analytics JavaScript snippet from this template. You also
have to remove the snippet if you would like to use your own Google
Analytics tracking code via django-analytical!</p>
</div>
<div class="section" id="frequently-asked-questions">
<h2><a class="toc-backref" href="#id33">Frequently Asked Questions</a><a class="headerlink" href="#frequently-asked-questions" title="Permalink to this headline">¶</a></h2>
<p>This section compiles a number of the most frequently asked questions.</p>
<div class="section" id="i-want-to-use-mysql-and-or-apache">
<h3><a class="toc-backref" href="#id34">I Want to use MySQL and/or Apache</a><a class="headerlink" href="#i-want-to-use-mysql-and-or-apache" title="Permalink to this headline">¶</a></h3>
<p>It may be possible to get these to work, but we have not tested these
configurations and therefore cannot provide any support for them. The
recommended database and web server technologies are listed in <a class="reference internal" href="#software-dependencies">Software Dependencies</a>.</p>
</div>
<div class="section" id="i-need-help-configuring-lighttpd">
<h3><a class="toc-backref" href="#id35">I Need Help Configuring lighttpd</a><a class="headerlink" href="#i-need-help-configuring-lighttpd" title="Permalink to this headline">¶</a></h3>
<p>The release includes a sample lighttpd.conf configuration file under
<tt class="docutils literal"><span class="pre">metashare/lighttpd-ssl.conf.sample</span></tt> (or
<tt class="docutils literal"><span class="pre">metashare/lighttpd-ssl.conf.sample</span></tt> for the non-SSL variant) which
you can use as the basis for your configuration. More information on how
to properly setup lighttpd with FastCGI support can be found in the
<a class="reference external" href="https://docs.djangoproject.com/en/1.4/howto/deployment/fastcgi/">Django documentation</a>.</p>
<p>Also, look at the scripts <tt class="docutils literal"><span class="pre">start-server.sh</span></tt> and <tt class="docutils literal"><span class="pre">stop-server.sh</span></tt>
which should show you how to start up and shut down the production
server.</p>
</div>
<div class="section" id="i-am-getting-storage-errors-when-importing-or-saving">
<h3><a class="toc-backref" href="#id36">I am Getting Storage Errors when Importing or Saving</a><a class="headerlink" href="#i-am-getting-storage-errors-when-importing-or-saving" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>File "/usr/local/MetaShareNode/metashare/../metashare/storage/models.py",=  line 254, in save
mkdir(self._storage_folder()) OSError: [Errno 2] No such file or directory:
'/home/storage/b557040eff1d11= e09075080027fee6a9b7ffe41433e94b19844c6038a825a145'
File "/usr/local/MetaShareNode/metashare/../metashare/storage/models.py",= line 254, in save
mkdir(self._storage_folder())  OSError: [Errno 2] No such file or directory:
'/home/storage/b557040eff1d11=e09075080027fee6a9b7ffe41433e94b19844c6038a825a145'</pre>
</div>
<p>The first thing to verify is whether the <tt class="docutils literal"><span class="pre">STORAGE_PATH</span></tt> setting in
<tt class="docutils literal"><span class="pre">local_settings.py</span></tt> points to a valid and existing folder – see
<a class="reference internal" href="#local-settings-for-meta-share-nodes">Local Settings for META-SHARE Nodes</a> for details.</p>
</div>
<div class="section" id="why-can-django-not-serve-the-static-files">
<h3><a class="toc-backref" href="#id37">Why Can Django not Serve the Static Files?</a><a class="headerlink" href="#why-can-django-not-serve-the-static-files" title="Permalink to this headline">¶</a></h3>
<p>While in principle, Django could also serve those static files, this is
not recommended for production use – it makes a lot more sense to have a
dedicated, lightweight web server handle that task. Some more
information on combining Django and lighttpd is available
<a class="reference external" href="https://docs.djangoproject.com/en/1.3/howto/deployment/fastcgi/#lighttpd-setup">here</a></p>
</div>
<div class="section" id="postgresql-error-message">
<h3><a class="toc-backref" href="#id38">PostgreSQL Error Message</a><a class="headerlink" href="#postgresql-error-message" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>--- File "/usr/lib/python2.7/site-packages/django/db/backends/postgresql_psycopg2/base.py", line 24, in &lt;module&gt;
raiseImproperlyConfigured("Error loading psycopg2 module: %s" % e) django.core.exceptions.ImproperlyConfigured:
Error loading psycopg2 module: No module named psycopg2 ---</pre>
</div>
<p>Seems like you are trying to use PostgreSQL but you have not installed
the <tt class="docutils literal"><span class="pre">psycopg2</span></tt> dependency. See <a class="reference internal" href="#python-modules">Python Modules</a> for how to install it.</p>
</div>
<div class="section" id="problems-with-importing-xml-files">
<h3><a class="toc-backref" href="#id39">Problems with Importing XML Files</a><a class="headerlink" href="#problems-with-importing-xml-files" title="Permalink to this headline">¶</a></h3>
<p>We are trying to use <tt class="docutils literal"><span class="pre">import_xml.py</span></tt> to import XML files into the
database. We are using an XML file that validates against the schema,
but we get the following&nbsp; error:</p>
<div class="highlight-python"><pre>source venv/bin/activate
python import_xml.py  ApertiumLMFBasqueDictionary.xml
deactivate

Importing XML file: "ApertiumLMFBasqueDictionary.xml"
Could not import XML file into database!</pre>
</div>
<p>If you encounter this error, please first check that the XML file is
indeed schema-valid with respect to the latest schema files. If so,
there might be a bug – please send us the example file if possible so
that we can reproduce and fix it: <a class="reference external" href="mailto:helpdesk-technical&#37;&#52;&#48;meta-share&#46;eu">helpdesk-technical<span>&#64;</span>meta-share<span>&#46;</span>eu</a></p>
</div>
<div class="section" id="updating-the-geoip-database-for-statistics-collection">
<h3><a class="toc-backref" href="#id40">Updating the GeoIP Database for Statistics Collection</a><a class="headerlink" href="#updating-the-geoip-database-for-statistics-collection" title="Permalink to this headline">¶</a></h3>
<p>The country-based statistics do not seem to properly work anymore.</p>
<p>For statistical purposes, META-SHARE collects information about the
country of origin of web site visitors. In this process, the IP address
of the visiting user is converted to the country using the GeoLite
Country database. As IP address to country mappings may change over
time, an automatically set up cron job updates the used database every
month for better statistics results.</p>
<p>The current version of the database is downloaded into the directory
<tt class="docutils literal"><span class="pre">/path/to/local/MetaShareNode/metashare/stats/resources/</span></tt> using the
following resource file (which is configurable in <tt class="docutils literal"><span class="pre">settings.py</span></tt> via
the <tt class="docutils literal"><span class="pre">GEOIP_DATA_URL</span></tt> key):
<a class="reference external" href="http://geolite.maxmind.com/download/geoip/database/GeoLiteCountry/GeoIP.dat.gz">http://geolite.maxmind.com/download/geoip/database/GeoLiteCountry/GeoIP.dat.gz</a></p>
</div>
</div>
<div class="section" id="funding">
<h2><a class="toc-backref" href="#id41">Funding</a><a class="headerlink" href="#funding" title="Permalink to this headline">¶</a></h2>
<p>This document is part of the Network of Excellence “Multilingual Europe
Technology Alliance (META-NET)”, co-funded by the 7th Framework
Programme of the European Commission through the T4ME grant agreement
no.: 249119.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">META-SHARE Installation Manual</a><ul>
<li><a class="reference internal" href="#executive-summary">Executive Summary</a></li>
<li><a class="reference internal" href="#backing-up-meta-share">Backing up META-SHARE</a></li>
<li><a class="reference internal" href="#upgrading-meta-share">Upgrading META-SHARE</a></li>
<li><a class="reference internal" href="#installing-meta-share">Installing META-SHARE</a><ul>
<li><a class="reference internal" href="#software-dependencies">Software Dependencies</a><ul>
<li><a class="reference internal" href="#database-software">Database Software</a></li>
<li><a class="reference internal" href="#python-interpreter">Python interpreter</a></li>
<li><a class="reference internal" href="#python-modules">Python Modules</a></li>
<li><a class="reference internal" href="#web-server">Web Server</a></li>
</ul>
</li>
<li><a class="reference internal" href="#development-server">Development Server</a></li>
<li><a class="reference internal" href="#local-settings-for-meta-share-nodes">Local Settings for META-SHARE Nodes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deployment-server">Deployment Server</a></li>
<li><a class="reference internal" href="#solr-server-for-browsing-and-searching">Solr Server for Browsing and Searching</a><ul>
<li><a class="reference internal" href="#installing-solr">Installing Solr</a></li>
<li><a class="reference internal" href="#keeping-the-solr-configuration-up-to-date">Keeping the Solr Configuration Up-to-Date</a></li>
<li><a class="reference internal" href="#manually-updating-the-solr-configuration">Manually Updating the Solr Configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#linking-your-node-with-the-meta-share-network">Linking your Node with the META-SHARE Network</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#step-by-step-instructions">Step-by-Step Instructions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#importing-and-exporting-resources">Importing and Exporting Resources</a><ul>
<li><a class="reference internal" href="#importing-xml-files-into-meta-share">Importing XML Files into META-SHARE</a><ul>
<li><a class="reference internal" href="#importing-from-the-command-line">Importing from the Command Line</a></li>
<li><a class="reference internal" href="#importing-from-the-editor">Importing from the Editor</a></li>
</ul>
</li>
<li><a class="reference internal" href="#exporting-xml-files-from-meta-share">Exporting XML Files from META-SHARE</a><ul>
<li><a class="reference internal" href="#exporting-from-the-command-line">Exporting from the Command Line</a></li>
<li><a class="reference internal" href="#exporting-from-the-editor">Exporting from the Editor</a></li>
</ul>
</li>
<li><a class="reference internal" href="#copying-data-between-meta-share-nodes">Copying Data between META-SHARE Nodes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#setting-up-editor-user-accounts">Setting up Editor User Accounts</a></li>
<li><a class="reference internal" href="#search-engine-optimization-and-web-analytics">Search Engine Optimization and Web Analytics</a></li>
<li><a class="reference internal" href="#frequently-asked-questions">Frequently Asked Questions</a><ul>
<li><a class="reference internal" href="#i-want-to-use-mysql-and-or-apache">I Want to use MySQL and/or Apache</a></li>
<li><a class="reference internal" href="#i-need-help-configuring-lighttpd">I Need Help Configuring lighttpd</a></li>
<li><a class="reference internal" href="#i-am-getting-storage-errors-when-importing-or-saving">I am Getting Storage Errors when Importing or Saving</a></li>
<li><a class="reference internal" href="#why-can-django-not-serve-the-static-files">Why Can Django not Serve the Static Files?</a></li>
<li><a class="reference internal" href="#postgresql-error-message">PostgreSQL Error Message</a></li>
<li><a class="reference internal" href="#problems-with-importing-xml-files">Problems with Importing XML Files</a></li>
<li><a class="reference internal" href="#updating-the-geoip-database-for-statistics-collection">Updating the GeoIP Database for Statistics Collection</a></li>
</ul>
</li>
<li><a class="reference internal" href="#funding">Funding</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to META-SHARE&#8217;s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="META-SHARE_Provider_Manual.html"
                        title="next chapter">META-SHARE Provider Manual</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/META-SHARE_Installation_Manual.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="META-SHARE_Provider_Manual.html" title="META-SHARE Provider Manual"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to META-SHARE’s documentation!"
             >previous</a> |</li>
        <li><a href="index.html">META-SHARE 3.1-beta documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, Christian Federmann, Marc Schröder, Christian Spurk, Victoria Arranz, Ioanna Giannopoulou, Olivier Hamon, Bernardo Magnini, Manuela Speranza, Dimitris Mavroeidis, Christian Girardi, Sergio Oller.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>